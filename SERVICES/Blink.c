/**********************************************************************************************************************
 *  FILE DESCRIPTION
 *  -----------------------------------------------------------------------------------------------------------------*/
/**        \file  Blink.c
 *        \brief
 *
 *      \details Source File for Blink Service .
 *
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  INCLUDES
 *********************************************************************************************************************/
#include "Blink.h"
/**********************************************************************************************************************
 *  LOCAL MACROS CONSTANT\FUNCTION
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL DATA
 *********************************************************************************************************************/

static uint8 Led_Status = LED_STATUS_OFF;

/**********************************************************************************************************************
 *  GLOBAL DATA
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL FUNCTION PROTOTYPES
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL FUNCTIONS
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL FUNCTIONS
 *********************************************************************************************************************/

/******************************************************************************
 * \Syntax             : Blinking_Start
 * \Description        : Function to blink the specified led.
 * \Sync\Async         : Synchronous.
 * \Reentrancy         : NonReentrant.
 * \Parameters (in)    : LedId    - The specific led id.
 *					   : Time_On  - Led On time period
 *                     : Time_OFF - Led Off time period
 * \Parameters (inout) : None.
 * \Parameters (out)   : None.
 * \Return value:      : None.
 *******************************************************************************/
void Blinking_Start(Led_ChannelType LedId, uint32 Time_On, uint32 Time_OFF)
{

	if (Led_Status != LED_STATUS_OFF)
	{
		
		Led_TurnOn(LedId);
		SysTick_StartTimer(Time_On);
		Led_Status = LED_STATUS_ON;
	}

	while (Led_Status == LED_STATUS_ON)
		;

	if (Led_Status != LED_STATUS_ON)
	{
		Led_TurnOff(LedId);
		SysTick_StartTimer(Time_OFF);
		Led_Status = LED_STATUS_OFF;
	}

	while (Led_Status == LED_STATUS_OFF)
		;

	return;
}

/******************************************************************************
 * \Syntax             : void Blinking_Stop(void)
 * \Description        : Function to stop Blinking Led.
 * \Sync\Async         : Synchronous.
 * \Reentrancy         : NonReentrant.
 * \Parameters (in)    : None.
 * \Parameters (inout) : None.
 * \Parameters (out)   : None.
 * \Return value:      : None.
 *******************************************************************************/
void Blinking_Stop(void)
{
	/* Stop Blinking*/
	return;
}


/******************************************************************************
 * \Syntax             : void Blinking_Change_Status(void)
 * \Description        : Function to change status of Blinking Led.
 * \Sync\Async         : Synchronous.
 * \Reentrancy         : NonReentrant.
 * \Parameters (in)    : None.
 * \Parameters (inout) : None.
 * \Parameters (out)   : None.
 * \Return value:      : None.
 *******************************************************************************/
void Blinking_Change_Status(void)
{
	if (Led_Status == LED_STATUS_ON)
	{
		Led_Status=LED_STATUS_OFF;
	}
	else
	{
		Led_Status=LED_STATUS_ON;
	}
}
/**********************************************************************************************************************
 *  END OF FILE: Blink.c
 *********************************************************************************************************************/
