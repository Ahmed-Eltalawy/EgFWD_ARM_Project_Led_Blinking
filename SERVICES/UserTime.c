/**********************************************************************************************************************
 *  FILE DESCRIPTION
 *  -----------------------------------------------------------------------------------------------------------------*/
/**        \file  UserTime.c
 *        \brief
 *
 *      \details Source File for UserTime Service .
 *
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  INCLUDES
 *********************************************************************************************************************/
#include "UserTime.h"
/**********************************************************************************************************************
 *  LOCAL MACROS CONSTANT\FUNCTION
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL DATA
 *********************************************************************************************************************/
/* Global variable to save Time On */
static  volatile uint32 gTime_on = 3; // 3 Second

/* Global variable to save Time Off */
static  volatile uint32 gTime_off = 1; // 1 Second

/**********************************************************************************************************************
 *  GLOBAL DATA
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL FUNCTION PROTOTYPES
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL FUNCTIONS
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL FUNCTIONS
 *********************************************************************************************************************/


/******************************************************************************
 * \Syntax             : Time_GetOn
 * \Description        : Function to return User Input Time on.
 * \Sync\Async         : Synchronous.
 * \Reentrancy         : NonReentrant.
 * \Parameters (in)    : None.
 * \Parameters (inout) : None.
 * \Parameters (out)   : None.
 * \Return value:      : uint32 - User Time On.
 *******************************************************************************/
uint32 Time_GetOn(void)
{
	return gTime_on ;
}

/******************************************************************************
 * \Syntax             : Time_GetOff
 * \Description        : Function to return User Input Time off.
 * \Sync\Async         : Synchronous.
 * \Reentrancy         : NonReentrant.
 * \Parameters (in)    : None.
 * \Parameters (inout) : None.
 * \Parameters (out)   : None.
 * \Return value:      : uint32 - User Time Off.
 *******************************************************************************/
uint32 Time_GetOff(void)
{
	return gTime_off ;
}


/******************************************************************************
 * \Syntax             : Time_GetTimerTicks
 * \Description        : Function to Calculate Timer Ticks.
 * \Sync\Async         : Synchronous.
 * \Reentrancy         : NonReentrant.
 * \Parameters (in)    : TimeinSeconds - User Time in Seconds.
 * \Parameters (inout) : None.
 * \Parameters (out)   : None.
 * \Return value:      : uint32 - Number of Timer Ticks.
 *******************************************************************************/
uint32 Time_GetTimerTicks(uint32 TimeinSeconds)
{
	float Frequency = F_CPU / 4 ;

	float OneTickTime = (float)1 / Frequency ;

	float TotalTicks  = TimeinSeconds / OneTickTime  ;

	return  (uint32)TotalTicks ;
}
/**********************************************************************************************************************
 *  END OF FILE: UserTime.c
 *********************************************************************************************************************/
